<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Swachify Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    
    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .notification-dot {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .5; }
    }

    .sidebar-active {
      background: linear-gradient(135deg, #0d9488 0%, #14b8a6 100%);
      color: white;
    }

    .modal {
      backdrop-filter: blur(4px);
    }
  </style>
</head>
<body class="bg-slate-50">

  <!-- Loading Splash -->
  <div id="splash" class="fixed inset-0 flex items-center justify-center bg-white z-50 transition-opacity duration-500">
    <img src="./SWACHIFY gif.gif" alt="Loading" class="w-32 h-32 rounded-full shadow-2xl" />
  </div>

  <!-- Top Navigation -->
  <header class="fixed top-0 left-0 right-0 bg-white border-b border-slate-200 z-40">
  <div class="flex items-center justify-between px-4 lg:px-6 py-3">
    <!-- Left: Logo + Menu -->
    <div class="flex items-center gap-3">
      <button id="menuToggle" class="lg:hidden p-2 rounded-lg hover:bg-slate-100">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
      </button>
      <img src="./SWACHIFY gif.gif" alt="Swachify" class="w-10 h-10 rounded-full" />
      <h1 class="text-xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent">Swachify</h1>
    </div>

    <!-- Middle: Search Bar -->
    <div class="hidden md:flex items-center bg-slate-100 rounded-xl px-3 py-2 w-80 focus-within:ring-2 focus-within:ring-teal-400 transition">
      <svg class="w-5 h-5 text-slate-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M21 21l-4.35-4.35M10 18a8 8 0 110-16 8 8 0 010 16z" />
      </svg>
      <input 
        type="text" 
        id="searchInput" 
        placeholder="Search services, customers..." 
        class="bg-transparent outline-none w-full text-sm text-slate-700 placeholder-slate-500"
        oninput="handleSearch(event)"
      />
    </div>

    <!-- Right: Notifications + Profile -->
    <div class="flex items-center gap-3">
      <!-- Search Icon (Mobile) -->
      <button onclick="toggleMobileSearch()" class="md:hidden p-2 rounded-lg hover:bg-slate-100">
        <svg class="w-6 h-6 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M21 21l-4.35-4.35M10 18a8 8 0 110-16 8 8 0 010 16z"/>
        </svg>
      </button>

      <!-- Notifications -->
      <button onclick="toggleNotifications()" class="relative p-2 rounded-full hover:bg-slate-100 transition">
        <svg class="w-6 h-6 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
        </svg>
        <span id="notifBadge" class="absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center notification-dot">3</span>
      </button>

      <!-- Profile -->
      <div class="flex items-center gap-2">
        <div class="hidden sm:block text-right">
          <div class="text-sm font-semibold" id="adminName">Admin User</div>
          <div class="text-xs text-slate-500">Administrator</div>
        </div>
        <button onclick="showSection('profile')" class="w-10 h-10 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white font-bold">
          A
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile Search (Hidden by Default) -->
  <div id="mobileSearch" class="hidden px-4 pb-3 md:hidden">
    <div class="flex items-center bg-slate-100 rounded-xl px-3 py-2 w-full focus-within:ring-2 focus-within:ring-teal-400 transition">
      <svg class="w-5 h-5 text-slate-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
          d="M21 21l-4.35-4.35M10 18a8 8 0 110-16 8 8 0 010 16z" />
      </svg>
      <input 
        type="text" 
        placeholder="Search..." 
        class="bg-transparent outline-none w-full text-sm text-slate-700 placeholder-slate-500"
        oninput="handleSearch(event)"
      />
    </div>
  </div>
</header>

<script>
  function toggleMobileSearch() {
    const search = document.getElementById('mobileSearch');
    search.classList.toggle('hidden');
  }

  function handleSearch(event) {
    const query = event.target.value.toLowerCase();
    console.log("Searching for:", query);
    // 👉 You can implement real filtering logic here.
  }
</script>


  <!-- Notification Dropdown -->
  <div id="notificationPanel" class="hidden fixed top-16 right-4 w-80 bg-white rounded-xl shadow-2xl border border-slate-200 z-50 max-h-96 overflow-y-auto">
    <div class="p-4 border-b border-slate-200">
      <div class="flex items-center justify-between">
        <h3 class="font-bold text-slate-800">Notifications</h3>
        <button onclick="clearAllNotifications()" class="text-xs text-teal-600 hover:text-teal-700">Clear All</button>
      </div>
    </div>
    <div id="notificationList" class="divide-y divide-slate-100">
      <!-- Notifications will be inserted here -->
    </div>
  </div>

  <div class="flex pt-16">
    <!-- Sidebar -->
    <aside id="sidebar" class="fixed lg:sticky top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white border-r border-slate-200 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 z-30">
      <nav class="p-4 space-y-2">
        <button onclick="showSection('dashboard')" class="sidebar-btn sidebar-active w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all" data-section="dashboard">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
          </svg>
          <span class="font-semibold">Dashboard</span>
        </button>

        <button onclick="showSection('services')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="services">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
          </svg>
          <span class="font-semibold">Request Service</span>
        </button>

        <button onclick="showSection('bookings')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="bookings">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
          </svg>
          <span class="font-semibold">Bookings</span>
          <span id="bookingBadge" class="ml-auto bg-teal-100 text-teal-600 text-xs px-2 py-1 rounded-full">0</span>
        </button>

        <button onclick="showSection('tickets')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="tickets">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
          </svg>
          <span class="font-semibold">Tickets</span>
          <span id="ticketBadge" class="ml-auto bg-amber-100 text-amber-600 text-xs px-2 py-1 rounded-full">0</span>
        </button>

        <button onclick="showSection('employees')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="employees">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
          <span class="font-semibold">Employees</span>
        </button>

        <button onclick="showSection('profile')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="profile">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
          <span class="font-semibold">Profile</span>
        </button>

        <button onclick="showSection('settings')" class="sidebar-btn w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-600 hover:bg-slate-100 transition-all" data-section="settings">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
          </svg>
          <span class="font-semibold">Settings</span>
        </button>

        <div class="pt-4 border-t border-slate-200 mt-4">
          <button onclick="logout()" class="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-all">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
            </svg>
            <span class="font-semibold">Logout</span>
          </button>
        </div>
      </nav>
    </aside>

    <!-- Sidebar Overlay for Mobile -->
    <div id="sidebarOverlay" class="hidden fixed inset-0 bg-black/50 z-20 lg:hidden" onclick="toggleSidebar()"></div>

    <!-- Main Content -->
    <main class="flex-1 p-4 lg:p-8 overflow-y-auto h-[calc(100vh-4rem)]">
      
      <!-- Dashboard Section -->
      <section id="dashboard" class="content-section fade-in">
        <h2 class="text-3xl font-bold mb-2">Welcome Back! 👋</h2>
        <p class="text-slate-600 mb-8">Here's your cleaning business overview</p>

        <!-- Stats Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-2xl p-6">
            <div class="flex items-center justify-between mb-2">
              <span class="text-teal-100">Total Services</span>
              <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div class="text-3xl font-bold" id="totalServices">0</div>
            <div class="text-xs text-teal-100 mt-1">All time</div>
          </div>

          <div class="bg-white rounded-2xl p-6 border-2 border-blue-200">
            <div class="flex items-center justify-between mb-2">
              <span class="text-slate-600">Active Bookings</span>
              <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div class="text-3xl font-bold text-blue-600" id="activeBookings">0</div>
            <div class="text-xs text-slate-500 mt-1">Pending assignment</div>
          </div>

          <div class="bg-white rounded-2xl p-6 border-2 border-emerald-200">
            <div class="flex items-center justify-between mb-2">
              <span class="text-slate-600">Open Tickets</span>
              <svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
              </svg>
            </div>
            <div class="text-3xl font-bold text-emerald-600" id="openTickets">0</div>
            <div class="text-xs text-slate-500 mt-1">In progress</div>
          </div>

          <div class="bg-white rounded-2xl p-6 border-2 border-purple-200">
            <div class="flex items-center justify-between mb-2">
              <span class="text-slate-600">Employees</span>
              <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
            </div>
            <div class="text-3xl font-bold text-purple-600" id="totalEmployees">8</div>
            <div class="text-xs text-slate-500 mt-1">Available staff</div>
          </div>
        </div>

        <!-- Recent Activity -->
        <div class="grid lg:grid-cols-2 gap-6">
          <div class="bg-white rounded-2xl p-6 border border-slate-200">
            <h3 class="text-xl font-bold mb-4">Recent Bookings</h3>
            <div id="recentBookingsList" class="space-y-3">
              <div class="text-center py-8 text-slate-400">
                <svg class="w-12 h-12 mx-auto mb-2 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                </svg>
                <p>No recent bookings</p>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 border border-slate-200">
            <h3 class="text-xl font-bold mb-4">Active Tickets</h3>
            <div id="activeTicketsList" class="space-y-3">
              <div class="text-center py-8 text-slate-400">
                <svg class="w-12 h-12 mx-auto mb-2 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
                </svg>
                <p>No active tickets</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Services Section -->
      <section id="services" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Request a Service</h2>
        <p class="text-slate-600 mb-8">Select the service you need</p>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
          <div onclick="requestService('Home Deep Cleaning', '₹999')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-teal-100 text-teal-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🏠
            </div>
            <h3 class="font-bold text-lg mb-2">Home Deep Cleaning</h3>
            <p class="text-slate-600 text-sm mb-3">Complete house cleaning service</p>
            <p class="text-teal-600 font-bold">From ₹999</p>
          </div>

          <div onclick="requestService('Office Cleaning', '₹1,299')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🏢
            </div>
            <h3 class="font-bold text-lg mb-2">Office Cleaning</h3>
            <p class="text-slate-600 text-sm mb-3">Professional workspace cleaning</p>
            <p class="text-blue-600 font-bold">From ₹1,299</p>
          </div>

          <div onclick="requestService('Sofa & Carpet Cleaning', '₹799')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🛋️
            </div>
            <h3 class="font-bold text-lg mb-2">Sofa & Carpet</h3>
            <p class="text-slate-600 text-sm mb-3">Deep furniture cleaning</p>
            <p class="text-purple-600 font-bold">From ₹799</p>
          </div>

          <div onclick="requestService('Kitchen Cleaning', '₹699')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-amber-100 text-amber-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🍳
            </div>
            <h3 class="font-bold text-lg mb-2">Kitchen Cleaning</h3>
            <p class="text-slate-600 text-sm mb-3">Deep kitchen sanitization</p>
            <p class="text-amber-600 font-bold">From ₹699</p>
          </div>

          <div onclick="requestService('Bathroom Cleaning', '₹499')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-cyan-100 text-cyan-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🚿
            </div>
            <h3 class="font-bold text-lg mb-2">Bathroom Cleaning</h3>
            <p class="text-slate-600 text-sm mb-3">Complete bathroom sanitization</p>
            <p class="text-cyan-600 font-bold">From ₹499</p>
          </div>

          <div onclick="requestService('Pest Control', '₹1,499')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-red-100 text-red-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🐛
            </div>
            <h3 class="font-bold text-lg mb-2">Pest Control</h3>
            <p class="text-slate-600 text-sm mb-3">Professional pest treatment</p>
            <p class="text-red-600 font-bold">From ₹1,499</p>
          </div>

          <div onclick="requestService('AC Service & Repair', '₹899')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-indigo-100 text-indigo-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              ❄️
            </div>
            <h3 class="font-bold text-lg mb-2">AC Service</h3>
            <p class="text-slate-600 text-sm mb-3">AC cleaning and repair</p>
            <p class="text-indigo-600 font-bold">From ₹899</p>
          </div>

          <div onclick="requestService('Painting Service', '₹2,499')" class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-500 hover:shadow-xl transition-all cursor-pointer group">
            <div class="w-12 h-12 rounded-xl bg-pink-100 text-pink-600 flex items-center justify-center text-2xl mb-4 group-hover:scale-110 transition-transform">
              🎨
            </div>
            <h3 class="font-bold text-lg mb-2">Painting Service</h3>
            <p class="text-slate-600 text-sm mb-3">Professional painting work</p>
            <p class="text-pink-600 font-bold">From ₹2,499</p>
          </div>
        </div>
      </section>

      <!-- Bookings Section -->
      <section id="bookings" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Bookings Management</h2>
        <p class="text-slate-600 mb-8">Assign employees to service requests</p>

        <div id="bookingsList" class="space-y-4">
          <div class="text-center py-12 text-slate-400">
            <svg class="w-16 h-16 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            <p>No pending bookings</p>
          </div>
        </div>
      </section>

      <!-- Tickets Section -->
      <section id="tickets" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Service Tickets</h2>
        <p class="text-slate-600 mb-8">Monitor and manage work assignments</p>

        <div class="mb-6 flex gap-3">
          <button onclick="filterTickets('all')" class="ticket-filter-btn px-4 py-2 rounded-lg bg-teal-600 text-white font-medium">All</button>
          <button onclick="filterTickets('open')" class="ticket-filter-btn px-4 py-2 rounded-lg bg-slate-200 text-slate-700 font-medium">Open</button>
          <button onclick="filterTickets('completed')" class="ticket-filter-btn px-4 py-2 rounded-lg bg-slate-200 text-slate-700 font-medium">Completed</button>
        </div>

        <div id="ticketsList" class="space-y-4">
          <div class="text-center py-12 text-slate-400">
            <svg class="w-16 h-16 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
            </svg>
            <p>No tickets found</p>
          </div>
        </div>
      </section>

      <!-- Employees Section -->
      <section id="employees" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Employee Management</h2>
        <p class="text-slate-600 mb-8">View and manage your cleaning staff</p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="employeeGrid">
          <!-- Employee cards will be inserted here -->
        </div>
      </section>

      <!-- Profile Section -->
      <section id="profile" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Profile Settings</h2>
        <p class="text-slate-600 mb-8">Manage your account information</p>

        <div class="max-w-2xl">
          <div class="bg-white rounded-2xl p-6 border border-slate-200 mb-6">
            <div class="flex items-center gap-4 mb-6">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white text-3xl font-bold">
                A
              </div>
              <div>
                <h3 class="text-xl font-bold">Admin User</h3>
                <p class="text-slate-600">admin@swachify.com</p>
              </div>
            </div>

            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-2">Full Name</label>
                <input type="text" value="Admin User" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-teal-500 focus:outline-none">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-2">Email</label>
                <input type="email" value="admin@swachify.com" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-teal-500 focus:outline-none">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-2">Phone</label>
                <input type="tel" value="+91 98765 43210" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-teal-500 focus:outline-none">
              </div>
              <button class="w-full bg-gradient-to-r from-teal-600 to-cyan-600 text-white py-3 rounded-xl font-semibold hover:shadow-lg transition-all">
                Save Changes
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section id="settings" class="content-section hidden fade-in">
        <h2 class="text-3xl font-bold mb-2">Settings</h2>
        <p class="text-slate-600 mb-8">Configure your system preferences</p>

        <div class="max-w-2xl space-y-6">
          <div class="bg-white rounded-2xl p-6 border border-slate-200">
            <h3 class="font-bold text-lg mb-4">Notification Settings</h3>
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">New Booking Alerts</p>
                  <p class="text-sm text-slate-600">Get notified when new bookings arrive</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" checked class="sr-only peer">
                  <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div>
                </label>
              </div>
              <div class="flex items-center justify-between">
                <div>
                  <p class="font-medium">Ticket Updates</p>
                  <p class="text-sm text-slate-600">Notifications for ticket status changes</p>
                </div>
                <label class="relative inline-flex items-center cursor-pointer">
                  <input type="checkbox" checked class="sr-only peer">
                  <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div>
                </label>
              </div>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 border border-slate-200">
            <h3 class="font-bold text-lg mb-4">Business Settings</h3>
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-2">Business Name</label>
                <input type="text" value="Swachify Cleaning Services" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-teal-500 focus:outline-none">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-2">Support Email</label>
                <input type="email" value="support@swachify.com" class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:border-teal-500 focus:outline-none">
              </div>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- Service Request Modal -->
  <div id="serviceRequestModal" class="hidden fixed inset-0 bg-black/50 modal flex items-center justify-center p-4 z-50">
  <div class="bg-white rounded-2xl max-w-sm w-full p-5 fade-in shadow-lg">
    <div class="flex items-center justify-between mb-3">
      <h3 class="text-lg font-semibold">Request Service</h3>
      <button onclick="closeServiceModal()" class="text-slate-400 hover:text-slate-600">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <form id="serviceRequestForm" class="space-y-2">
      <input type="hidden" id="serviceName">
      <input type="hidden" id="servicePrice">
      
      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">Selected Service</label>
        <div class="px-2 py-1 bg-teal-50 border border-teal-200 rounded-lg">
          <p id="selectedServiceDisplay" class="font-semibold text-teal-700 text-sm"></p>
        </div>
      </div>

      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">Customer Name</label>
        <input type="text" id="customerName" required class="w-full px-3 py-2 border border-slate-200 rounded-lg focus:border-teal-500 focus:outline-none text-sm" placeholder="Enter customer name">
      </div>

      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">Phone Number</label>
        <input type="tel" id="customerPhone" required class="w-full px-3 py-2 border border-slate-200 rounded-lg focus:border-teal-500 focus:outline-none text-sm" placeholder="+91 98765 43210">
      </div>

      <div>
        <label class="block text-sm font-medium text-slate-700 mb-1">Address</label>
        <textarea id="customerAddress" required rows="2" class="w-full px-3 py-2 border border-slate-200 rounded-lg focus:border-teal-500 focus:outline-none text-sm resize-none" placeholder="Enter service address"></textarea>
      </div>

      <div class="grid grid-cols-2 gap-3">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Date</label>
          <input type="date" id="serviceDate" required class="w-full px-3 py-2 border border-slate-200 rounded-lg focus:border-teal-500 focus:outline-none text-sm">
        </div>
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Time</label>
          <select id="serviceTime" required class="w-full px-3 py-2 border border-slate-200 rounded-lg focus:border-teal-500 focus:outline-none text-sm">
            <option value="">Select</option>
            <option value="9:00 AM - 11:00 AM">9:00 - 11:00 AM</option>
            <option value="11:00 AM - 1:00 PM">11:00 - 1:00 PM</option>
            <option value="2:00 PM - 4:00 PM">2:00 - 4:00 PM</option>
            <option value="4:00 PM - 6:00 PM">4:00 - 6:00 PM</option>
          </select>
        </div>
      </div>

      <button type="submit" class="w-full bg-gradient-to-r from-teal-600 to-cyan-600 text-white py-2 rounded-lg font-medium hover:shadow-md transition-all text-sm">
        Create Booking
      </button>
    </form>
  </div>
</div>

  <!-- Employee Assignment Modal -->
  <div id="employeeModal" class="hidden fixed inset-0 bg-black/50 modal flex items-center justify-center p-4 z-50">
    <div class="bg-white rounded-2xl max-w-2xl w-full p-6 max-h-[80vh] overflow-y-auto fade-in">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-xl font-bold">Assign Employee</h3>
        <button onclick="closeEmployeeModal()" class="text-slate-400 hover:text-slate-600">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <input type="hidden" id="selectedBookingId">
      
      <div class="mb-4 p-4 bg-slate-50 rounded-xl">
        <p class="text-sm text-slate-600">Booking Details:</p>
        <p id="bookingDetailsDisplay" class="font-semibold text-slate-800"></p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="employeeSelectionList">
        <!-- Employee cards will be inserted here -->
      </div>
    </div>
  </div>

  <script>
    // Data Storage
    const STORAGE_KEYS = {
      BOOKINGS: 'swachify_bookings',
      TICKETS: 'swachify_tickets',
      NOTIFICATIONS: 'swachify_notifications'
    };

    let bookings = JSON.parse(localStorage.getItem(STORAGE_KEYS.BOOKINGS) || '[]');
    let tickets = JSON.parse(localStorage.getItem(STORAGE_KEYS.TICKETS) || '[]');
    let notifications = JSON.parse(localStorage.getItem(STORAGE_KEYS.NOTIFICATIONS) || '[]');

    const employees = [
      { id: 1, name: 'Arun Kumar', services: ['Home Cleaning', 'Kitchen', 'Bathroom'], status: 'Available', phone: '+91 98765 11111' },
      { id: 2, name: 'Priya Sharma', services: ['Office Cleaning', 'Sofa & Carpet'], status: 'Available', phone: '+91 98765 22222' },
      { id: 3, name: 'Ravi Singh', services: ['Pest Control', 'Deep Cleaning'], status: 'Available', phone: '+91 98765 33333' },
      { id: 4, name: 'Sunita Devi', services: ['Kitchen', 'Bathroom', 'Home Cleaning'], status: 'Available', phone: '+91 98765 44444' },
      { id: 5, name: 'Anil Mehta', services: ['Painting', 'Home Cleaning'], status: 'Available', phone: '+91 98765 55555' },
      { id: 6, name: 'Geeta Gupta', services: ['AC Service', 'Appliance Repair'], status: 'Available', phone: '+91 98765 66666' },
      { id: 7, name: 'Sanjay Verma', services: ['Office Cleaning', 'Deep Cleaning'], status: 'Available', phone: '+91 98765 77777' },
      { id: 8, name: 'Meena Kumari', services: ['Sofa & Carpet', 'Home Cleaning'], status: 'Available', phone: '+91 98765 88888' }
    ];

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        document.getElementById('splash').style.opacity = '0';
        setTimeout(() => document.getElementById('splash').style.display = 'none', 500);
      }, 1500);

      renderEmployees();
      updateDashboard();
      renderNotifications();
      
      // Set minimum date for service booking
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('serviceDate').min = today;
    });

    // Mobile Menu
    document.getElementById('menuToggle').addEventListener('click', toggleSidebar);

    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      
      sidebar.classList.toggle('-translate-x-full');
      overlay.classList.toggle('hidden');
    }

    // Navigation
    function showSection(section) {
      // Hide all sections
      document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
      
      // Show selected section
      document.getElementById(section).classList.remove('hidden');
      
      // Update sidebar buttons
      document.querySelectorAll('.sidebar-btn').forEach(btn => {
        btn.classList.remove('sidebar-active', 'text-white');
        btn.classList.add('text-slate-600');
        if (btn.dataset.section === section) {
          btn.classList.add('sidebar-active', 'text-white');
          btn.classList.remove('text-slate-600');
        }
      });

      // Close mobile menu
      if (window.innerWidth < 1024) {
        toggleSidebar();
      }

      // Update content
      if (section === 'bookings') renderBookings();
      if (section === 'tickets') renderTickets();
    }

    // Service Request
    function requestService(name, price) {
      document.getElementById('serviceName').value = name;
      document.getElementById('servicePrice').value = price;
      document.getElementById('selectedServiceDisplay').textContent = `${name} - ${price}`;
      document.getElementById('serviceRequestModal').classList.remove('hidden');
    }

    function closeServiceModal() {
      document.getElementById('serviceRequestModal').classList.add('hidden');
      document.getElementById('serviceRequestForm').reset();
    }

    document.getElementById('serviceRequestForm').addEventListener('submit', (e) => {
      e.preventDefault();
      
      const booking = {
        id: Date.now(),
        service: document.getElementById('serviceName').value,
        price: document.getElementById('servicePrice').value,
        customerName: document.getElementById('customerName').value,
        phone: document.getElementById('customerPhone').value,
        address: document.getElementById('customerAddress').value,
        date: document.getElementById('serviceDate').value,
        time: document.getElementById('serviceTime').value,
        status: 'Pending',
        createdAt: new Date().toISOString()
      };

      bookings.push(booking);
      localStorage.setItem(STORAGE_KEYS.BOOKINGS, JSON.stringify(bookings));

      // Add notification
      addNotification(`New booking: ${booking.service} for ${booking.customerName}`);

      closeServiceModal();
      showSection('bookings');
      updateDashboard();
    });

    // Render Bookings
    function renderBookings() {
      const container = document.getElementById('bookingsList');
      const pendingBookings = bookings.filter(b => b.status === 'Pending');

      if (pendingBookings.length === 0) {
        container.innerHTML = `
          <div class="text-center py-12 text-slate-400">
            <svg class="w-16 h-16 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            <p>No pending bookings</p>
          </div>
        `;
        return;
      }

      container.innerHTML = pendingBookings.map(booking => `
        <div class="bg-white rounded-xl p-6 border-2 border-slate-200 hover:border-teal-300 transition-all">
          <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div class="flex-1">
              <h3 class="font-bold text-lg mb-2">${booking.service}</h3>
              <div class="space-y-1 text-sm text-slate-600">
                <p>👤 ${booking.customerName}</p>
                <p>📞 ${booking.phone}</p>
                <p>📍 ${booking.address}</p>
                <p>📅 ${new Date(booking.date).toLocaleDateString()} at ${booking.time}</p>
                <p class="text-teal-600 font-semibold">${booking.price}</p>
              </div>
            </div>
            <div class="flex flex-col gap-2">
              <span class="px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-600 text-center">
                ${booking.status}
              </span>
              <button onclick="openEmployeeModal(${booking.id})" class="px-4 py-2 bg-teal-600 text-white rounded-lg font-semibold hover:bg-teal-700 transition-all">
                Assign Employee
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Employee Assignment
    function openEmployeeModal(bookingId) {
      const booking = bookings.find(b => b.id === bookingId);
      document.getElementById('selectedBookingId').value = bookingId;
      document.getElementById('bookingDetailsDisplay').textContent = `${booking.service} - ${booking.customerName}`;

      const availableEmployees = employees.filter(e => e.status === 'Available');
      const container = document.getElementById('employeeSelectionList');

      container.innerHTML = availableEmployees.map(emp => `
        <div onclick="assignEmployeeToBooking(${emp.id})" class="p-4 border-2 border-slate-200 rounded-xl hover:border-teal-500 hover:bg-teal-50 cursor-pointer transition-all">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white font-bold">
              ${emp.name.charAt(0)}
            </div>
            <div>
              <p class="font-bold">${emp.name}</p>
              <p class="text-xs text-slate-600">${emp.services.join(', ')}</p>
              <p class="text-xs text-green-600 mt-1">● ${emp.status}</p>
            </div>
          </div>
        </div>
      `).join('');

      document.getElementById('employeeModal').classList.remove('hidden');
    }

    function closeEmployeeModal() {
      document.getElementById('employeeModal').classList.add('hidden');
    }

    function assignEmployeeToBooking(employeeId) {
      const bookingId = parseInt(document.getElementById('selectedBookingId').value);
      const booking = bookings.find(b => b.id === bookingId);
      const employee = employees.find(e => e.id === employeeId);

      // Update booking status
      booking.status = 'Assigned';
      booking.assignedTo = employee.name;
      booking.employeeId = employeeId;

      // Create ticket
      const ticket = {
        id: Date.now(),
        bookingId: bookingId,
        service: booking.service,
        customerName: booking.customerName,
        address: booking.address,
        date: booking.date,
        time: booking.time,
        employee: employee.name,
        employeeId: employeeId,
        status: 'Open',
        createdAt: new Date().toISOString()
      };

      tickets.push(ticket);

      // Update employee status
      employee.status = 'Assigned';

      // Save to localStorage
      localStorage.setItem(STORAGE_KEYS.BOOKINGS, JSON.stringify(bookings));
      localStorage.setItem(STORAGE_KEYS.TICKETS, JSON.stringify(tickets));

      // Add notification
      addNotification(`Ticket assigned to ${employee.name} for ${booking.service}`);

      closeEmployeeModal();
      renderBookings();
      renderEmployees();
      updateDashboard();
      showSection('tickets');
    }

    // Render Tickets
    function renderTickets(filter = 'all') {
      const container = document.getElementById('ticketsList');
      let filteredTickets = tickets;

      if (filter === 'open') {
        filteredTickets = tickets.filter(t => t.status === 'Open');
      } else if (filter === 'completed') {
        filteredTickets = tickets.filter(t => t.status === 'Completed');
      }

      if (filteredTickets.length === 0) {
        container.innerHTML = `
          <div class="text-center py-12 text-slate-400">
            <svg class="w-16 h-16 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
            </svg>
            <p>No tickets found</p>
          </div>
        `;
        return;
      }

      container.innerHTML = filteredTickets.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).map(ticket => `
        <div class="bg-white rounded-xl p-6 border-2 ${ticket.status === 'Open' ? 'border-amber-200' : 'border-emerald-200'}">
          <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
            <div class="flex-1">
              <div class="flex items-center gap-3 mb-3">
                <span class="px-3 py-1 rounded-full text-xs font-semibold ${ticket.status === 'Open' ? 'bg-amber-100 text-amber-600' : 'bg-emerald-100 text-emerald-600'}">
                  ${ticket.status}
                </span>
                <span class="text-xs text-slate-500">Ticket #${ticket.id.toString().slice(-6)}</span>
              </div>
              <h3 class="font-bold text-lg mb-2">${ticket.service}</h3>
              <div class="space-y-1 text-sm text-slate-600">
                <p>👤 ${ticket.customerName}</p>
                <p>👷 Assigned to: <span class="font-semibold text-teal-600">${ticket.employee}</span></p>
                <p>📍 ${ticket.address}</p>
                <p>📅 ${new Date(ticket.date).toLocaleDateString()} at ${ticket.time}</p>
              </div>
            </div>
            ${ticket.status === 'Open' ? `
              <button onclick="completeTicket(${ticket.id})" class="px-4 py-2 bg-emerald-600 text-white rounded-lg font-semibold hover:bg-emerald-700 transition-all">
                Mark Complete
              </button>
            ` : `
              <div class="text-emerald-600 font-semibold">✓ Completed</div>
            `}
          </div>
        </div>
      `).join('');
    }

    function filterTickets(filter) {
      document.querySelectorAll('.ticket-filter-btn').forEach(btn => {
        btn.classList.remove('bg-teal-600', 'text-white');
        btn.classList.add('bg-slate-200', 'text-slate-700');
      });
      event.target.classList.add('bg-teal-600', 'text-white');
      event.target.classList.remove('bg-slate-200', 'text-slate-700');
      
      renderTickets(filter);
    }

    function completeTicket(ticketId) {
      const ticket = tickets.find(t => t.id === ticketId);
      ticket.status = 'Completed';
      ticket.completedAt = new Date().toISOString();

      // Update employee status back to Available
      const employee = employees.find(e => e.id === ticket.employeeId);
      employee.status = 'Available';

      localStorage.setItem(STORAGE_KEYS.TICKETS, JSON.stringify(tickets));

      addNotification(`Ticket completed: ${ticket.service} by ${ticket.employee}`);

      renderTickets();
      renderEmployees();
      updateDashboard();
    }

    // Render Employees
    function renderEmployees() {
      const container = document.getElementById('employeeGrid');

      container.innerHTML = employees.map(emp => `
        <div class="bg-white rounded-xl p-6 border-2 ${emp.status === 'Available' ? 'border-emerald-200' : 'border-amber-200'}">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center text-white text-xl font-bold">
              ${emp.name.charAt(0)}
            </div>
            <div class="flex-1">
              <h3 class="font-bold text-lg">${emp.name}</h3>
              <p class="text-xs ${emp.status === 'Available' ? 'text-emerald-600' : 'text-amber-600'}">● ${emp.status}</p>
            </div>
          </div>
          <div class="mb-3">
            <p class="text-xs text-slate-500 mb-1">Specialties:</p>
            <div class="flex flex-wrap gap-1">
              ${emp.services.map(s => `<span class="text-xs px-2 py-1 bg-teal-50 text-teal-600 rounded-full">${s}</span>`).join('')}
            </div>
          </div>
          <p class="text-sm text-slate-600">📞 ${emp.phone}</p>
        </div>
      `).join('');
    }

    // Notifications
    function addNotification(message) {
      const notification = {
        id: Date.now(),
        message: message,
        read: false,
        timestamp: new Date().toISOString()
      };

      notifications.unshift(notification);
      localStorage.setItem(STORAGE_KEYS.NOTIFICATIONS, JSON.stringify(notifications));
      
      renderNotifications();
      updateDashboard();
    }

    function renderNotifications() {
      const container = document.getElementById('notificationList');
      const badge = document.getElementById('notifBadge');
      
      const unreadCount = notifications.filter(n => !n.read).length;
      badge.textContent = unreadCount;
      badge.classList.toggle('hidden', unreadCount === 0);

      if (notifications.length === 0) {
        container.innerHTML = '<p class="p-4 text-center text-slate-400">No notifications</p>';
        return;
      }

      container.innerHTML = notifications.slice(0, 10).map(notif => `
        <div class="p-4 hover:bg-slate-50 ${!notif.read ? 'bg-teal-50' : ''}">
          <p class="text-sm ${!notif.read ? 'font-semibold' : ''}">${notif.message}</p>
          <p class="text-xs text-slate-500 mt-1">${new Date(notif.timestamp).toLocaleString()}</p>
        </div>
      `).join('');
    }

    function toggleNotifications() {
      const panel = document.getElementById('notificationPanel');
      panel.classList.toggle('hidden');
      
      // Mark all as read when opened
      if (!panel.classList.contains('hidden')) {
        notifications.forEach(n => n.read = true);
        localStorage.setItem(STORAGE_KEYS.NOTIFICATIONS, JSON.stringify(notifications));
        renderNotifications();
      }
    }

    function clearAllNotifications() {
      notifications = [];
      localStorage.setItem(STORAGE_KEYS.NOTIFICATIONS, JSON.stringify(notifications));
      renderNotifications();
    }

    // Update Dashboard
    function updateDashboard() {
      document.getElementById('totalServices').textContent = bookings.length;
      document.getElementById('activeBookings').textContent = bookings.filter(b => b.status === 'Pending').length;
      document.getElementById('openTickets').textContent = tickets.filter(t => t.status === 'Open').length;
      document.getElementById('bookingBadge').textContent = bookings.filter(b => b.status === 'Pending').length;
      document.getElementById('ticketBadge').textContent = tickets.filter(t => t.status === 'Open').length;

      // Recent bookings
      const recentBookings = bookings.slice(-5).reverse();
      const recentContainer = document.getElementById('recentBookingsList');
      
      if (recentBookings.length === 0) {
        recentContainer.innerHTML = '<p class="text-center py-8 text-slate-400">No recent bookings</p>';
      } else {
        recentContainer.innerHTML = recentBookings.map(b => `
          <div class="p-3 border-2 border-slate-200 rounded-lg">
            <p class="font-semibold">${b.service}</p>
            <p class="text-sm text-slate-600">${b.customerName}</p>
            <span class="text-xs px-2 py-1 rounded-full ${b.status === 'Pending' ? 'bg-amber-100 text-amber-600' : 'bg-teal-100 text-teal-600'}">${b.status}</span>
          </div>
        `).join('');
      }

      // Active tickets
      const activeTickets = tickets.filter(t => t.status === 'Open').slice(-5).reverse();
      const ticketsContainer = document.getElementById('activeTicketsList');
      
      if (activeTickets.length === 0) {
        ticketsContainer.innerHTML = '<p class="text-center py-8 text-slate-400">No active tickets</p>';
      } else {
        ticketsContainer.innerHTML = activeTickets.map(t => `
          <div class="p-3 border-2 border-amber-200 rounded-lg">
            <p class="font-semibold">${t.service}</p>
            <p class="text-sm text-slate-600">👷 ${t.employee}</p>
            <span class="text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-600">${t.status}</span>
          </div>
        `).join('');
      }
    }

    // Logout
    function logout() {
      if (confirm('Are you sure you want to logout?')) {
        window.location.href = 'index.html';
      }
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('#notificationBtn') && !e.target.closest('#notificationPanel')) {
        document.getElementById('notificationPanel').classList.add('hidden');
      }
    });
  </script>
</body>
</html>